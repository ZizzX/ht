
window.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector("#form"),t=document.querySelector("#nights"),r=document.querySelector("#nights-to"),n=document.querySelector("#form-nights-to"),o=document.querySelector("#form-nights");r.addEventListener("change",e=>{+t.value>=+e.target.value&&(t.value="",append(n,createNode("div","error","Не может быть меньше чем от...")))}),t.addEventListener("change",e=>{+r.value<=+e.target.value&&r.value&&(r.value="",append(o,createNode("div","error","Не может быть больше чем до...")))});e.addEventListener("submit",t=>{t.preventDefault();const r=new FormData(e),n=JSON.stringify(Object.fromEntries(r.entries()));console.log(n),a("https://ht.kz/test/searchPartner1",n).then(e=>{console.log(e)}).catch(e=>{throw new Error("Error: "+e.message+", error name: "+e.name)}).finally(()=>{e.reset()})});const a=async(e,t)=>{const r=await fetch(e,{method:"POST",body:t,headers:{"Content-type":"application/json; charset=UTF-8"}});return await r.json()}});
const maxDate=changeDatePickerRange(90),minDate=changeDatePickerRange(1);function changeDatePickerRange(e){return getDate(getMillisecunds(e))}function getDate(e){const t=Date.now()+e,n=new Date(t).getDate(),a=new Date(t).getMonth()+1;return`${new Date(t).getFullYear()}-${getZero(a)}-${getZero(n)}`}function getZero(e){return e>=0&&e<10?"0"+e:e}function setMaxDate(e,t){document.getElementById(e).setAttribute("max",t)}function setMinDate(e,t){document.getElementById(e).setAttribute("min",t)}function getMillisecunds(e){return 864e5*e}function createNode(e,t,n){const a=document.createElement(e);return a.classList.add(t),a.textContent=n,a}function createNode(e,t,n){return document.querySelectorAll(t)}function append(e,t){return e.appendChild(t)}setMaxDate("date-input",maxDate),setMinDate("date-input",minDate);
//# sourceMappingURL=../sourcemaps/main.min.js.map
