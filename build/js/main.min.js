
window.addEventListener("DOMContentLoaded",()=>{const t=document.querySelector("#form"),e=t.querySelector("#nights"),r=t.querySelector("#nights-to");function a(t,e){return t.price>e.price?1:t.price<e.price?-1:0}e.addEventListener("input",t=>{const e=t.target;r.value.length>0&&void 0!==r.value&&+r.value<=+e.value&&(e.value="",e.setAttribute("placeholder","Больше чем до"),e.classList.add("error")),e.classList.remove("error"),e.setAttribute("placeholder","")}),r.addEventListener("change",t=>{const r=t.target;e.value.length>0&&void 0!==e.value&&+e.value>=+r.value?(r.value="",r.setAttribute("placeholder","Меньше чем от"),r.classList.add("error")):e.value<r.value&&(r.classList.remove("error"),r.setAttribute("placeholder",""))}),t.addEventListener("submit",t=>{t.preventDefault();const e=Object.fromEntries(new FormData(t.target).entries()),{departCity:r,country:n,date:s,nights:o,nightsTo:i}=e;(async({departCity:t,country:e,date:r,nights:a,nightsTo:n}={})=>{const s=await fetch(`https://ht.kz/test/searchPartner1?departCity=${t}&country=${e}&date=${r}&nights=${a}&nightsTo=${n}`);return await s.json()})({departCity:r,country:n,date:s,nights:o,nightsTo:i}).then(t=>{const e=t.tours.sort(a);console.log(e)})})});
const maxDate=changeDatePickerRange(90),minDate=changeDatePickerRange(1);function changeDatePickerRange(e){return getDate(getMillisecunds(e))}function getDate(e){const t=Date.now()+e,n=new Date(t).getDate(),a=new Date(t).getMonth()+1;return`${new Date(t).getFullYear()}-${getZero(a)}-${getZero(n)}`}function getZero(e){return e>=0&&e<10?"0"+e:e}function setMaxDate(e,t){document.getElementById(e).setAttribute("max",t)}function setMinDate(e,t){document.getElementById(e).setAttribute("min",t)}function getMillisecunds(e){return 864e5*e}setMaxDate("date-input",maxDate),setMinDate("date-input",minDate);
//# sourceMappingURL=../sourcemaps/main.min.js.map
